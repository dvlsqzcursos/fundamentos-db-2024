-- MySQL Script generated by MySQL Workbench
-- Wed Apr 17 11:16:55 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema BLOG
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema BLOG
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `BLOG` DEFAULT CHARACTER SET utf8 ;
USE `BLOG` ;

-- -----------------------------------------------------
-- Table `BLOG`.`usuarios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BLOG`.`usuarios` (
  `idusuarios` INT NOT NULL,
  `nombre` VARCHAR(45) NULL,
  `apellidos` VARCHAR(45) NULL,
  `correo_electronico` VARCHAR(45) NULL,
  `genero` INT NULL,
  `fecha_nacimiento` DATE NULL,
  `password` INT NULL,
  `contacto` VARCHAR(10) NOT NULL,
  `usuarioscol` VARCHAR(45) NULL,
  PRIMARY KEY (`idusuarios`),
  UNIQUE INDEX `correo_electronico_UNIQUE` (`correo_electronico` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BLOG`.`publicaciones`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BLOG`.`publicaciones` (
  `idpublicaciones` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NULL,
  `tipo_publicacion` MEDIUMTEXT NULL,
  `contenido` TEXT(500) NULL,
  `idusuarios` INT NOT NULL,
  PRIMARY KEY (`idpublicaciones`),
  INDEX `fk_publicaciones_usuarios_idx` (`idusuarios` ASC) VISIBLE,
  CONSTRAINT `fk_publicaciones_usuarios`
    FOREIGN KEY (`idusuarios`)
    REFERENCES `BLOG`.`usuarios` (`idusuarios`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BLOG`.`categorias`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BLOG`.`categorias` (
  `idcategorias` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NULL,
  `id_principal` INT NOT NULL,
  `tipo` INT NULL,
  `idpublicaciones` INT NOT NULL,
  PRIMARY KEY (`idcategorias`),
  INDEX `fk_categorias_publicaciones1_idx` (`idpublicaciones` ASC) VISIBLE,
  CONSTRAINT `fk_categorias_publicaciones1`
    FOREIGN KEY (`idpublicaciones`)
    REFERENCES `BLOG`.`publicaciones` (`idpublicaciones`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BLOG`.`comentarios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BLOG`.`comentarios` (
  `idcomentarios` INT NOT NULL AUTO_INCREMENT,
  `contenido` TEXT(500) NULL,
  `fecha` DATE NULL,
  `usuarios_idusuarios` INT NOT NULL,
  `idpublicaciones` INT NOT NULL,
  PRIMARY KEY (`idcomentarios`),
  INDEX `fk_comentarios_usuarios1_idx` (`usuarios_idusuarios` ASC) VISIBLE,
  INDEX `fk_comentarios_publicaciones1_idx` (`idpublicaciones` ASC) VISIBLE,
  CONSTRAINT `fk_comentarios_usuarios1`
    FOREIGN KEY (`usuarios_idusuarios`)
    REFERENCES `BLOG`.`usuarios` (`idusuarios`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_comentarios_publicaciones1`
    FOREIGN KEY (`idpublicaciones`)
    REFERENCES `BLOG`.`publicaciones` (`idpublicaciones`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;



-- insert usuarios -- 
INSERT INTO `usuarios` (`idusuarios`, `nombre`, `apellidos`, `correo_electronico`, `genero`, `fecha_nacimiento`, `password`, `contacto`, `usuarioscol`) VALUES
(1, 'Alejandro', 'Gómez', 'alejandro.gomez@example.com', 1, '1990-05-15', 123456, '1234567890', 'usuario1'),
(2, 'Sofía', 'Martínez', 'sofia.martinez@example.com', 2, '1992-08-25', 654321, '0987654321', 'usuario2'),
(3, 'Gabriel', 'Hernández', 'gabriel.hernandez@example.com', 1, '1985-02-10', 987654, '1112223333', 'usuario3'),
(4, 'Valentina', 'López', 'valentina.lopez@example.com', 2, '1988-11-30', 456789, '4445556666', 'usuario4'),
(5, 'Mateo', 'Díaz', 'mateo.diaz@example.com', 1, '1995-07-20', 789012, '7778889999', 'usuario5'),
(6, 'Isabella', 'García', 'isabella.garcia@example.com', 2, '1993-04-05', 321098, '0001112222', 'usuario6'),
(7, 'Lucas', 'Fernández', 'lucas.fernandez@example.com', 1, '1983-09-18', 234567, '3334445555', 'usuario7'),
(8, 'Camila', 'Rodríguez', 'camila.rodriguez@example.com', 2, '1991-12-12', 890123, '6667778888', 'usuario8'),
(9, 'Martín', 'Pérez', 'martin.perez@example.com', 1, '1987-06-22', 567890, '9990001111', 'usuario9'),
(10, 'Emilia', 'Sánchez', 'emilia.sanchez@example.com', 2, '1984-03-08', 012345, '2223334444', 'usuario10'),
(11, 'Benjamín', 'Martín', 'benjamin.martin@example.com', 1, '1997-01-27', 345678, '5556667777', 'usuario11'),
(12, 'Valeria', 'Ruiz', 'valeria.ruiz@example.com', 2, '1989-10-14', 678901, '8889990000', 'usuario12'),
(13, 'Leonardo', 'Gutiérrez', 'leonardo.gutierrez@example.com', 1, '1994-08-03', 123123, '1112223333', 'usuario13'),
(14, 'Mariana', 'Góngora', 'mariana.gongora@example.com', 2, '1986-05-29', 456456, '4445556666', 'usuario14'),
(15, 'Joaquín', 'Góngora', 'joaquin.gongora@example.com', 1, '1996-12-01', 789789, '7778889999', 'usuario15');


-- insert publicaciones --

INSERT INTO `publicaciones` (`idpublicaciones`, `fecha`, `tipo_publicacion`, `contenido`, `idusuarios`) VALUES
(NULL, '2024-04-17', 'Artículo', 'Este es un artículo sobre tecnología.', 1),
(NULL, '2024-04-16', 'Noticia', '¡Nuevo descubrimiento científico revoluciona la medicina!', 2),
(NULL, '2024-04-15', 'Opinión', 'Opinión personal sobre el cambio climático.', 3),
(NULL, '2024-04-14', 'Artículo', 'Historia de la literatura contemporánea.', 4),
(NULL, '2024-04-13', 'Entrevista', 'Entrevista exclusiva con el CEO de una importante empresa.', 5),
(NULL, '2024-04-12', 'Artículo', 'Recetas saludables para una dieta equilibrada.', 6),
(NULL, '2024-04-11', 'Noticia', 'Nuevo avance en la exploración espacial.', 7),
(NULL, '2024-04-10', 'Artículo', 'Consejos para mejorar tu productividad en el trabajo.', 8),
(NULL, '2024-04-09', 'Reseña', 'Reseña de la última película de terror.', 9),
(NULL, '2024-04-08', 'Artículo', 'Breve historia del arte renacentista.', 10),
(NULL, '2024-04-07', 'Opinión', 'Reflexiones sobre el futuro de la inteligencia artificial.', 11),
(NULL, '2024-04-06', 'Entrevista', 'Entrevista con un reconocido chef sobre tendencias culinarias.', 12),
(NULL, '2024-04-05', 'Noticia', 'Avances en la lucha contra enfermedades tropicales.', 13),
(NULL, '2024-04-04', 'Artículo', 'Guía para principiantes en el mundo del fitness.', 14),
(NULL, '2024-04-03', 'Reseña', 'Reseña de un nuevo libro de ciencia ficción.', 15);

-- insert publicaciones -- 
INSERT INTO `publicaciones` (`idpublicaciones`, `fecha`, `tipo_publicacion`, `contenido`, `idusuarios`) VALUES
(NULL, '2024-04-17', 'Artículo', 'Este es un artículo sobre tecnología.', 1),
(NULL, '2024-04-16', 'Noticia', '¡Nuevo descubrimiento científico revoluciona la medicina!', 2),
(NULL, '2024-04-15', 'Opinión', 'Opinión personal sobre el cambio climático.', 3),
(NULL, '2024-04-14', 'Artículo', 'Historia de la literatura contemporánea.', 4),
(NULL, '2024-04-13', 'Entrevista', 'Entrevista exclusiva con el CEO de una importante empresa.', 5),
(NULL, '2024-04-12', 'Artículo', 'Recetas saludables para una dieta equilibrada.', 6),
(NULL, '2024-04-11', 'Noticia', 'Nuevo avance en la exploración espacial.', 7),
(NULL, '2024-04-10', 'Artículo', 'Consejos para mejorar tu productividad en el trabajo.', 8),
(NULL, '2024-04-09', 'Reseña', 'Reseña de la última película de terror.', 9),
(NULL, '2024-04-08', 'Artículo', 'Breve historia del arte renacentista.', 10),
(NULL, '2024-04-07', 'Opinión', 'Reflexiones sobre el futuro de la inteligencia artificial.', 11),
(NULL, '2024-04-06', 'Entrevista', 'Entrevista con un reconocido chef sobre tendencias culinarias.', 12),
(NULL, '2024-04-05', 'Noticia', 'Avances en la lucha contra enfermedades tropicales.', 13),
(NULL, '2024-04-04', 'Artículo', 'Guía para principiantes en el mundo del fitness.', 14),
(NULL, '2024-04-03', 'Reseña', 'Reseña de un nuevo libro de ciencia ficción.', 15);


-- insert categorias --

INSERT INTO `categorias` (`idcategorias`, `nombre`, `id_principal`, `tipo`, `idpublicaciones`) VALUES
(NULL, 'Tecnología', NULL, 1, 1),
(NULL, 'Ciencia', NULL, 1, 2),
(NULL, 'Medio Ambiente', NULL, 1, 3),
(NULL, 'Literatura', NULL, 1, 4),
(NULL, 'Negocios', NULL, 1, 5),
(NULL, 'Salud', NULL, 1, 6),
(NULL, 'Espacio', NULL, 1, 7),
(NULL, 'Productividad', NULL, 1, 8),
(NULL, 'Cine', NULL, 1, 9),
(NULL, 'Arte', NULL, 1, 10),
(NULL, 'Inteligencia Artificial', NULL, 1, 11),
(NULL, 'Gastronomía', NULL, 1, 12),
(NULL, 'Medicina', NULL, 1, 13),
(NULL, 'Fitness', NULL, 1, 14),
(NULL, 'Literatura Fantástica', NULL, 1, 15);

-- insert comentarios --
INSERT INTO `comentarios` (`idcomentarios`, `contenido`, `fecha`, `usuarios_idusuarios`, `idpublicaciones`) VALUES
(NULL, 'Interesante artículo, gracias por compartir.', '2024-04-17', 1, 1),
(NULL, 'Esta noticia es increíble, ¿dónde puedo encontrar más información?', '2024-04-16', 2, 2),
(NULL, 'Estoy de acuerdo contigo, el cambio climático es un tema crucial.', '2024-04-15', 3, 3),
(NULL, 'Me encanta la literatura contemporánea, ¿qué otros libros recomiendan?', '2024-04-14', 4, 4),
(NULL, '¡Gran entrevista! Me gustaría saber más sobre los proyectos espaciales actuales.', '2024-04-13', 5, 7),
(NULL, 'Gracias por los consejos, definitivamente los pondré en práctica.', '2024-04-12', 6, 8);

SELECT *
FROM publicaciones
WHERE idusuarios IN (8, 10, 12);

